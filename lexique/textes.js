var textes = {
  fr: {
    appartenir: {
      mot: "Appartenir",
      original: "$appartenir$ @v. intr. . conjug.@ _1._ %Faire partie de (qqch.).% *Appartenir à une vielle famille du pays.*",
      interpretation: "$appartenir à une communauté$ _1._ %Formule alternative ou complémentaire à la famille nucléaire, qui propose une possible solution à la solitude et l'isolement de l'individu, à la séparation des couples et à la dissolution des liens des familles élargies, phénomènes de l'ère actuelle, caractéristiques des sociétés capitalistes.%"
    },
    apnee: {
      mot: "Apnée",
      original: "$apnée$ @n. f.@ _1._ %Arrêt temporaire de la respiration.%",
      interpretation: "$en apnée$ _1._ %État psychologique qui se caractérise par un mouvement intérieur permettant à l'individu de disparaître, de devenir invisible, quand il le juge nécessaire ou utile.%"
    },
    breches: {
      mot: "Brèche",
      original: "$brèche$ @n. f.@ _1._ %Petite entaille sur un objet d’où s'est détaché un éclat.%",
      interpretation: "$saisir les brèches dans le temps$@loc.@ _1._ %Possibilité qui se présente soudainement à un parent de s'emparer d'un moment précis au milieu d'une continuité indéfinie d’obligations prioritaires (ex. préparer le repas, payer les factures, remplir l'autorisation de la sortie scolaire, etc.), pour laisser place à l’intuition.%"
    },
    chambouler: {
      mot: "Chambouler",
      original: "$chambouler$ @v. tr. . conjug.@_1._@Fam.@ %Bouleverser, mettre sens dessus dessous.%",
      interpretation: "$chambouler l'hétérosexualité$ _1._ %Durant l'acte sexuel, changer les position, les modes, les fonctions des partenaires hétérosexuels.%_2._%Renverser le sens, les habitudes et les comportements sexuels liés à la satisfaction des besoins érotiques entre femme et homme.%_3._%Manière de subvertir le système de pouvoir du patriarcat dans le lit.%"
    },
    egal: {
      mot: "Être égaux",
      original: "$égal, ale, aux$ @adj. et n.@ _1._ @(Personnes, choses)@ %Qui est de la même quantité, dimension, nature, qualité ou valeur.% _> identique, même ; équivalent._ @/ contr.@ _inégal ; différent._ _2._ @(Personnes)@ %Qui es sur le même rang ; qui a les mêmes droits et charges% _> pareil._",
      interpretation: "$être égaux$ _1._ @loc.@ %Dans un couple hétérosexuel, partager de manière équitable autant les tâches domestiques que la charge mentale et ce, malgré la contradiction flagrante qui existe entre le discours et la pratique quant à l’égalité entre hommes et femmes à la maison.%<br><br>$Charge mentale :$ %qui peut être définie comme  « le travail de gestion, d’organisation et de planification qui est à la fois intangible, incontournable et constant, et qui a pour objectifs la satisfaction des besoins de chacun et la bonne marche de la résidence. »%"
    },
    faire_peut: {
      mot: "Faire",
      original: "$faire$ @v. tr. . conjug.@ _1._ %Réaliser hors de soi (une chose matérielle).% *Faire une maison.* _> bâtir, construire._ *Faire un meuble.* _> fabriquer_ *Faire le pain.* _> préparer_ *Faire une robe.* *>* _> confectionner._ *Faire un tableau.* _créer._ _2._ %Réaliser (une chose abstraite).% *Faire une loi.* _> instaurer, instituer._ *Faire une oeuvre.* _> composer; créer._ *Faire un poème, une sonate.* _> écrire._ ",
      interpretation: "$faire ce qu'on peut et en faire le moins possible$ _1._ %Stratégie d'adaptation de parents de familles nombreuses qui a comme objectif de préserver une bonne santé mentale et, à la fois, subvenir aux besoins de leurs enfants.%"
    },
    fissurer: {
      mot: "Fissurer",
      original: "$fissurer$ @v. tr. . conjug.@ _1._ %Diviser par fissures.% _> crevasser, fendre._",
      interpretation: "$fissurer la monogamie$ _1._ %Démonter la hiérarchie des relations humaines qui situe l’amoureux ou l’amoureuse au sommet de la pyramide au détriment d'autres liens de parenté, de famille, d'amitié, de voisinage, etc.%"
    },
    inverser: {
      mot: "Inverser",
      original: "$inverser$ @v. tr. . conjug.@ _1._ %Changer la position, l’ordre. >% _> intervertir._ ",
      interpretation: "$inverser les rôles$ _1._ %Dans un couple hétérosexuel, entente explicite ou implicite selon laquelle l'homme s'occupe de tâches considérées traditionnellement comme étant féminines (ex. prendre soin des enfants) et la femme se consacre au travail intellectuel, manuel ou physique ou toute tâche considérée habituellement comme étant masculine (ex. recherche scientifique).% _2._ %Modalité qui présente l'avantage de développer l'empathie entre les partenaires.% *Père au foyer et mère pourvoyeuse.*"
    },
    jouer_adultes: {
      mot: "Jouer",
      original: "$jouer$ @v. tr. . conjug.@ _1._ %Se livrer à un jeu.% @> s’amuser.@",
      interpretation: "$jouer entre adultes$ _1._ %Activité qui diminue en fréquence et en intensité ou qui disparaît complètement chez l'humain durant le passage à l'âge adulte, empêchant l'individu de retirer les bienfaits que procure ladite activité, tels que : l'amusement, la découverte, l'imagination, l’apprentissage, l'inspiration, la créativité, la concentration d'esprit, la distraction, l'excitation, la joie, la relaxation et la stimulation, pour n’en nommer que quelques uns.%"
    },
    mistifi: {
      mot: "Mistifi",
      original: "$Mistifi$ @n.p.@ _1._ %Société idéale située dans une géographie imaginaire où de multiples utopies de la famille sont possibles et coexistent.% *À bas l’image de la famille parfaite!*",
      interpretation: "$Mistifi$ @n.p.@ _1._ %Société idéale située dans une géographie imaginaire où de multiples utopies de la famille sont possibles et coexistent.% *À bas l’image de la famille parfaite!*"
    },
    montagne: {
      mot: "Montagne",
      original: "$montagne$ @n.f.@ _1._ %Importante élévation du terrain.% _ > éminence, hauteur;mont._",
      interpretation: "_2._ @loc.@ %Métaphore qui désigne la famille comme étant ce qui occupe la plus grande partie de l'espace dans la maison et la vie, tout en étant aussi ce qu'il y a de plus beau.%"
    },
    presence: {
      mot: "Présence",
      original: "$présence$ @n.f.@ _1._ %Le fait d'être physiquement quelque part auprès de qqn.% @/contr.@  _abscence._",
      interpretation: "_2._ %Disposition d'esprit qui permet d'avoir accès à l'amour envers les membres de sa famille, au delà du surmenage, des exigences de la vie quotidienne, des soucis ou de la cohabitation.%"
    },
    se_refugier: {
      mot: "Se réfugier",
      original: "$se réfugier$ @v. tr. . conjug.@ _1._ %Se retirer (en un lieu) pour s'y mettre à l'abri.%",
      interpretation: "$se réfugier dans la salle de bain$ _1._ %S'isoler dans la salle de bain à des fins qui ne sont pas habituelles, pour fuir la famille et retrouver un espace individuel ou de couple.%"
    },
    jamais_travailler: {
      mot: "Travailler",
      original: "$travailler$ @v.  . conjug.@ _1._ %Agir d'une manière suivie, avec plus ou moins d'effort, pour obtenir un résultat utile (intellectuellement, manuellement).% @> fam.@ _Bosser, boulonner_ @/ contr.@ _s’amuser, chômer, se reposer._ _2._ %Exercer une activité professionnelle, un métier.%",
      interpretation: "$ne jamais travailler$ _1._ %Acte de résistance au capitalisme qui consiste à rééquilibrer la vie personnelle – et, éventuellement, la société – en partageant son temps entre vie familiale et amicale, vie politique, vie spirituelle et des activités individuelles, et en refusant de se consacrer à la vie productive, qui occupe trop d'importance dans le monde actuel pour une grande majorité des adultes.%"
    },
    regarder_maison: {
      mot: "Regarder",
      original: "$regarder$ @v. tr. . conjug.@ _1._ %Faire en sorte de voir, s'appliquer à voir (qqn, qqch.).% _> examiner, observer._",
      interpretation: "$regarder la maison de l'intérieur$ _1._ @loc.@ %Faculté d'examiner sa maison quand elle en désordre sans éprouver de l'agitation et, au contraire, irradier un faisceau lumineux paisible qui reflète de l’harmonie dans l’espace habité.%"
    }
  },
  en: {
    appartenir: {
      mot: "Belong",
      original: "$belong$ @intr. verb.@ _1._ %To be part of (something).% *To belong to a well-established family.*",
      interpretation: "$belonging to a community$ _1._ %Alternative or complementary formula to the nuclear family, which offers a possible solution to the solitude and isolation of the individual, to the separation of couples and to the dissolution of extended family ties, phenomena of the current era, characteristics of capitalist societies.%"
    },
    apnee: {
      mot: "Apnea",
      original: "$apnea$ @noun.@ _1._ %Temporary cessation of breathing.%",
      interpretation: "$in apnea$ _1._ %Psychological state which is characterized by an interior movement allowing the individual to disappear, to become invisible, when one considers it necessary or useful.% "
    },
    breches: {
      mot: "Breach",
      original: "$breach$ @noun.@ _1._ %Small gap on an object from which a shard has come off.%",
      interpretation: "$seize the gaps in time$@loc.@ _1._ %Possibility that suddenly presents itself to a parent to seize a precise moment in the middle of an indefinite continuity of priority obligations (ex. Preparing meals, paying bills, completing school permission slips, etc.), to leave room for intuition.%"
    },
    chambouler: {
      mot: "Upset",
      original: "$upset$ @transitive verb.@_1._@Fam.@ %To disrupt, to turn upside down.%",
      interpretation: "$upset heterosexuality$ _1._ %During intercourse, change the positions, the modes and the functions of heterosexual partners.%_2._%To reverse the sexual meaning, habits, and behaviors related to the satisfaction of the erotic needs between woman and man.%_3._%How to subvert the patriarchal power system in bed.%"
    },
    egal: {
      mot: "Equal",
      original: "$equal$ @adj., noun.@ _1._ @(People, things)@ %Which is of the same quantity, size, nature, quality or value.% _> identical, same; equivalent._ @/ antonym.@ _unequal; different._ _2._ @(People)@ %Who are in the same rank; who have the same rights and charges.%",
      interpretation: "$to be equal$ _1._ @idiom.@ %In a heterosexual couple, sharing equally both the domestic tasks and the mental burden and this, despite the flagrant contradiction between discourse and practice regarding equality between men and women at home.%<br><br> $Mental burden :$ %which can be defined as 'the work of management, organization and planning which is at the same time intangible, unavoidable and constant, and which has for objectives the satisfaction of everyone's needs and the smooth running of the residence.'%"
    },
    faire_peut: {
      mot: "Do",
      original: "$do$ @trans. verb.@ _1._ %Realize outside oneself (a material thing).% *Make a house.* _> build, construct._ *Make a piece of furniture.* _> produce_ *Make the bread.* _> prepare_ *Make a dress.* *>* _> make._ *Make a picture.* _> create._ _2._ %Realize (an abstract thing).% *Make a law.* _> establish, to institute._ *Make a work of art.* _> compose; create._ *Make a poem, a sonata.* _> write._ ",
      interpretation: "$do what you can and do as little as possible$ _1._ %Adaptation strategy by parents from large families which aims to maintain good mental health and, at the same time, provide for the needs of their children.%"
    },
    fissurer: {
      mot: "Crack",
      original: "$crack$ @trans. verb.@ _1._ %Divide by fissures% _> crack, split._",
      interpretation: "$fissuring monogamy$ _1._ %Dismantle the hierarchy of human relations which places the lover at the top of the pyramid to the detriment of other ties of kinship, family, friendship, neighborhood, etc.%"
    },
    inverser: {
      mot: "Reverse",
      original: "$reverse$ @trans. verb.@ _1._ %Change the position, the order. >% _> invert._ ",
      interpretation: "$reverse roles$ _1._ %In a heterosexual couple, an explicit or implicit understanding that the man takes care of tasks traditionally considered to be feminine (e.g. taking care of children) and the woman devotes herself to intellectual, manual or physical work or any task usually considered to be masculine (e.g. scientific research).% _2._ %Modality that has the advantage of developing empathy between partners.% *Stay-at-home father and provider mother.*"
    },
    jouer_adultes: {
      mot: "Play",
      original: "$play$ @intransitive verb..@ _1._ %Play a game.% @> Have fun.@",
      interpretation: "$play among adults$ _1._ %Activity which decreases in frequency and intensity or which disappears completely in humans during the transition to adulthood, preventing the individual from reaping the benefits of said activity: fun, discovery, imagination, learning, inspiration, creativity, focus of mind, distraction, excitement, joy, relaxation and stimulation, to name a few.% "
    },
    mistifi: {
      mot: "Mistifi",
      original: "$Mistifi$ @noun.@ _1._ %Ideal society located in an imaginary geography where multiple family utopias are possible and coexist.% *Down with the image of the perfect family!*",
      interpretation: "$Mistifi$ @noun.@ _1._ %Ideal society located in an imaginary geography where multiple family utopias are possible and coexist.% *Down with the image of the perfect family!*"
    },
    montagne: {
      mot: "Mountain",
      original: "$mountain$ @noun.@ _1._ %Significant elevation of the land.% _> eminence, height, mount._",
      interpretation: "_2._ @loc.@ %Metaphor that designates the family as being what occupies most of the space in the house and in life, while also being what is most beautiful.%"
    },
    presence: {
      mot: "Presence",
      original: "$presence$ @noun.@ _1._ %Being physically somewhere near someone.% @/antonym.@  _abscence._",
      interpretation: "_2._ %Disposition of mind that allows access to love for members of one’s family, beyond overwork, the demands of daily life, of worries or of cohabitation.%"
    },
    se_refugier: {
      mot: "Take refuge",
      original: "$take refuge$ @idiom.@ _1._ %To withdraw (to a place) to take shelter there.%",
      interpretation: "$take refuge in the bathroom$ _1._ %To isolate oneself in the bathroom for unusual purposes, to escape the family and find a space alone or as a couple.%"
    },
    jamais_travailler: {
      mot: "Work",
      original: "$work$ @intransitive verb.@ _1._ %To act in a sustained manner, with more or less effort, to obtain a useful result (intellectually, manually).%@/ Antonym.@ _to have fun, to be unemployed, to rest._ _2._ %To practice a professional activity, a trade.%",
      interpretation: "$never work$ _1._ %Act of resistance to capitalism which consists in rebalancing personal life - and, eventually, society - by dividing one's time between family and friends, political life, spiritual life and individual activities, and refusing to devote oneself to productive life, which occupies too big a space in today's world for a large majority of adults.%"
    },
    regarder_maison: {
      mot: "Watch",
      original: "$watch$ @trans. verb.@ _1._ %Make sure to see, apply yourself to seeing (someone, something).% _> examine, observe._",
      interpretation: "$looking at the house from the inside$ _1._ @idiom.@ %Ability to examine one's home when it is in disorder without experiencing commotion and, on the contrary, radiate a peaceful beam of light which reflects harmony in the lived space.%"
    }
  }
}

function parser (texte) {

  texte = texte.replace(/%([^%]+)%/gi, "<span class='baskerville'>$1</span>");
  texte = texte.replace(/_([^_]+)_/gi, "<span class='baskerville bold'>$1</span>");
  texte = texte.replace(/\*([^\*]+)\*/gi, "<span class='baskerville italic'>$1</span>");
  texte = texte.replace(/\$([^\$]+)\$/gi, "<span class='baskerville bold italic'>$1</span>");
  texte = texte.replace(/@([^@]+)@/gi, "<span class='optima'>$1</span>");

  return texte;
}

function parser_entree (texte) {
  return { original: parser(texte.original), interpretation: parser(texte.interpretation) };
}

function traiter_textes () {
  let textes_traites = {
    fr: {},
    en: {}
  };

  // Francais
  Object.keys(textes.fr).map((entree) => {
    textes_traites.fr[entree] = parser_entree(textes.fr[entree]);
  });

  // Anglais
  Object.keys(textes.en).map((entree) => {
    textes_traites.en[entree] = parser_entree(textes.en[entree]);
  });

  return textes_traites;
}
